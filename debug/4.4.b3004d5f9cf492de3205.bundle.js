(self.webpackChunkdebug=self.webpackChunkdebug||[]).push([[4],{84:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Canvas:()=>f,getValue:()=>m,listenCanvasEvent:()=>v,emitCanvasEvent:()=>p});var r=n(2),a=n(85),i=n(97),o=n(36);n(95);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u=["#444","#3498db","#ff874d","#67a2a0"],l=null,d=null,f=(0,r.memo)((function(e){var t=e.toolbar,n=e.disabled,s=e.hideGrid,f=(0,r.useRef)(),m=c((0,r.useState)(u[0]),2),v=m[0],p=m[1],h=function(){window.localStorage.setItem("fusumaCanvasCoordinate",f.current.getSaveData())},y=function(){var e=window.localStorage.getItem("fusumaCanvasCoordinate");l!==e&&(f.current.loadSaveData(e,!0),l=e)};return(0,r.useEffect)((function(){return d=t?setInterval(h,1e3):setInterval(y,1e3),function(){d&&clearInterval(d)}}),[]),r.createElement(r.Fragment,null,t&&r.createElement("div",{className:"fusuma-canvas-toolbar"},r.createElement(o.MdDelete,{onClick:function(){f.current.clear()},size:"32"}),r.createElement(i.FaUndo,{onClick:function(){f.current.undo()}}),r.createElement("div",{style:{background:v},onClick:function(){u=u.concat(u.splice(0,1)),p(u[0])},className:"fusuma-canvas-toolbar-color"})),r.createElement(a.default,{ref:f,className:"fusuma-canvas",canvasWidth:"100%",canvasHeight:"100%",loadTimeOffset:0,brushColor:v,disabled:n,hideGrid:s,lazyRadius:0,brushRadius:8}))}));function m(){var e=window.localStorage.getItem("fusumaCanvasEvent");return JSON.parse(e||{status:"none"})}function v(e){window.addEventListener("storage",(function(t){"fusumaCanvasEvent"===t.key&&e(JSON.parse(t.newValue))}))}function p(e){window.localStorage.setItem("fusumaCanvasEvent",JSON.stringify(e))}},65:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>k});var r=n(2),a=n(66),i=n.n(a),o=n(97),c=n(36),s=n(83),u=n(84),l=n(98),d=n(100),f=n(99),m=n(62);n(106);function v(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){v(i,r,a,o,c,"next",e)}function c(e){v(i,r,a,o,c,"throw",e)}o(void 0)}))}}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}i().setAppElement("#root");var g=function(e){var t=e.slideUrl,n=e.slideIndex;return r.createElement("iframe",{src:"".concat(t.replace(/slide=(\d?)/,"slide=".concat(n))),width:"100%",height:"100%"})},b=null,w=null,E=null,S=[],R=0,C=null;const k=(0,r.memo)((function(e){var t=e.slides,n=e.currentIndex,a=e.terminate,v=e.onChangeSlideIndex;if(!E){var y=new URL(window.location),k=y.origin,T=y.pathname;w="".concat(k).concat(T,"?sidebar=false&isLive=false#slide="),E=new s.Controller}var I=h((0,r.useState)("prepare"),2),x=I[0],N=I[1],A=h((0,r.useState)(!1),2),P=A[0],O=A[1],M=h((0,r.useState)(!1),2),j=M[0],L=M[1],U=h((0,r.useState)(!0),2),D=U[0],F=U[1],q=h((0,r.useState)(!1),2),z=q[0],V=q[1],_=function(){try{a(),E&&(E.terminate(),E=null)}catch(e){console.error(e)}},G=function(e){if("start"===x){var n=(new Date).getTime()-R,a=S.slice(-1)[0];S.push({slideNum:e+1,time:n,timeStr:"".concat((0,f.formatTime)(n)," (+").concat((0,f.formatTime)(n-a.time),")"),event:"changed",title:"Moved to the ".concat(e+1," slide from the ").concat(e," slide."),Slide:t[e].slide,color:"#3498db",Icon:r.createElement(o.FaCaretRight,{size:"22"})})}v(e),E.changePage(e)},H=function(){0===S.length&&(R=(new Date).getTime());var e=0===S.length?0:(new Date).getTime()-R;S.push({slideNum:n+1,time:e,timeStr:(0,f.formatTime)(e),event:"started",title:"Started from the ".concat(n+1," slide."),Slide:t[n].slide,color:"#6fba1c",Icon:r.createElement(o.FaCaretDown,null)}),P&&(b.startRecording(),C=null),F(!1),N("start")},J=function(){var e=p(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(new Date).getTime()-R,S.push({slideNum:n+1,time:t,timeStr:(0,f.formatTime)(t),event:"stopped",title:"Stopped at the ".concat(n+1," slide."),color:"#e9546b",Icon:r.createElement(o.FaCaretUp,null)}),!P){e.next=6;break}return e.next=5,b.stopRecording();case 5:C=e.sent;case 6:N("stop");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){b&&(b.disposeRecording(),b=null),O(!1)};return(0,r.useEffect)((function(){function e(){return(e=p(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,E){e.next=3;break}throw new Error("Not found PresenterController.");case 3:return e.next=5,E.openView();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return function(){e.apply(this,arguments)}(),function(){document.onkeyup=null,E&&_(),Q()}}),[]),(0,r.useEffect)((function(){document.onkeyup=function(e){"ArrowLeft"===e.key?G(Math.max(0,n-1)):"ArrowRight"===e.key&&G(Math.min(t.length-1,n+1))}})),r.createElement("div",{className:"host-container"},r.createElement(i(),{isOpen:j,onRequestClose:function(){L(!1)}},r.createElement(d.Timeline,{items:S,url:C})),r.createElement("div",{className:"host-left-box"},r.createElement("div",{className:"host-note"},t&&r.createElement("pre",{dangerouslySetInnerHTML:{__html:t[n].fusumaProps.note}}))),r.createElement("div",{className:"host-right-box"},r.createElement("div",{className:"host-slide-layer"},r.createElement("h2",null,"Current"),r.createElement(c.MdZoomOutMap,{size:28,onClick:function(){V(!0),(0,u.emitCanvasEvent)({status:"start"})}}),r.createElement(g,{slideUrl:w,slideIndex:n+1})),r.createElement(i(),{isOpen:z,onRequestClose:function(){V(!1),(0,u.emitCanvasEvent)({status:"stop"})}},z&&r.createElement("div",{className:"host-slide-canvas"},r.createElement(u.Canvas,{toolbar:!0,hideGrid:!0}),r.createElement(g,{slideUrl:w,slideIndex:n+1}))),r.createElement("div",{className:"host-slide-layer"},r.createElement("h2",null,"Next"),r.createElement(g,{slideUrl:w,slideIndex:n+2}))),r.createElement("div",{className:"host-bottom-box"},r.createElement(o.FaTimes,{onClick:_,className:"terminate-button"}),r.createElement("div",{className:"host-bottom-box-info"},r.createElement(l.Timer,{start:H,stop:J,reset:function(){C=null,S=[],R=0,N("prepare"),F(!0)},disabledStart:"stop"===x&&P&&!H.isEmptyRecordedTimeline,disabledStop:"stop"===x&&P&&!H.isEmptyRecordedTimeline,disabledReset:"start"===x&&P}),r.createElement("span",{className:"current-slide-num"},"".concat(n+1).padStart(2,"0")," / ","".concat(t.length).padStart(2,"0")),r.createElement(o.FaHistory,{onClick:function(){L(!0)},size:18,className:"start"===x&&P||D?"disabled":void 0}),P?r.createElement(o.FaMicrophoneAlt,{onClick:Q,className:"start"!==x&&D?void 0:"disabled",size:20,color:"#6fba1c"}):r.createElement(o.FaMicrophoneAltSlash,{onClick:function(){if(!b)try{(b=new m.WebRTC).setupRecording(),O(!0)}catch(e){alert(e)}},className:"start"!==x&&D?void 0:"disabled",size:20}))))}))},100:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Timeline:()=>o});var r=n(2),a=n(101);function i(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}var o=function(e){var t=e.items,n=e.url,o=(0,r.useRef)();return(0,r.useEffect)((function(){if(o.current){var e=o.current,n=function(){var t,n=(t=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){e.addEventListener("loadedmetadata",(function(){e.duration===1/0&&(e.currentTime=Number.MAX_SAFE_INTEGER,e.addEventListener("timeupdate",(function n(){e.currentTime=0,e.removeEventListener("timeupdate",n),t()})))}))})));case 1:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function c(e){i(o,r,a,c,s,"next",e)}function s(e){i(o,r,a,c,s,"throw",e)}c(void 0)}))});return function(){return n.apply(this,arguments)}}(),r=document.querySelectorAll(".ReactModalPortal section > div");n();var a=!1;e.addEventListener("playing",(function(){a||(e.currentTime=0,a=!0)})),e.addEventListener("timeupdate",(function(){var n=function(e){for(var n=0,r=0;r<t.length;r++)if(e<=t[r].time){n=r;break}return n}(1e3*e.currentTime);r[n].scrollIntoView()}))}}),[]),r.createElement("div",{className:"host-timeline-container"},n&&r.createElement("div",{className:"host-timeline-audio"},r.createElement("audio",{src:n,controls:!0,ref:o})),r.createElement("div",{className:"host-timeline-body"},r.createElement(a.Timeline,null,t.map((function(e){var t=e.title,n=e.time,i=e.timeStr,o=e.Slide,c=e.color,s=e.Icon;return r.createElement(a.TimelineEvent,{key:n,title:t,createdAt:i,iconColor:c,icon:s},o&&r.createElement(o,null))})))))}},98:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Timer:()=>l});var r=n(2),a=n(97),i=n(99);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s=0,u=null,l=(0,r.memo)((function(e){var t=e.start,n=e.stop,c=e.reset,l=e.disabledStart,d=e.disabledStop,f=e.disabledReset,m=o((0,r.useState)(!0),2),v=m[0],p=m[1],h=o((0,r.useState)("00:00:00"),2),y=h[0],g=h[1];return(0,r.useEffect)((function(){return function(){u&&clearInterval(u)}}),[]),r.createElement("div",{className:"host-timer"},r.createElement(a.FaRegHourglass,{onClick:function(){u&&n(),s=0,g("00:00:00"),c()},className:f?"disabled":void 0}),v?r.createElement(a.FaPlay,{onClick:function(){u=setInterval((function(){return s+=1e3,void g((0,i.formatTime)(s))}),1e3),p(!1),t()},className:l?"disabled":void 0}):r.createElement(a.FaStop,{onClick:function(){clearInterval(u),p(!0),u=null,n()},className:d?"disabled":void 0}),r.createElement("span",null,y))}))},83:(e,t,n)=>{"use strict";function r(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.r(t),n.d(t,{Controller:()=>i});var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.receiverQuery="?presenter=view",this.apiType="function"==typeof window.PresentationRequest?"presentation":"localStorage",this.windowId=null}var t,n,i,o,c;return t=e,(n=[{key:"openView",value:function(){var e=this;return new Promise((function(t,n){"presentation"===e.apiType?(e.presentationRequest=new PresentationRequest([e.receiverQuery]),navigator.presentation.defaultRequest=e.presentationRequest,e.presentationRequest.addEventListener("connectionavailable",(function(n){e.presentationConnection=n.connection,t(n.connection.id)})),e.presentationRequest.start().catch((function(e){return n(e)}))):(e.windowId=window.open(e.receiverQuery,"_blank","width=800,height=600"),t())}))}},{key:"changePage",value:function(e){var t=JSON.stringify({date:Date.now(),page:e});"presentation"===this.apiType&&this.presentationConnection&&this.presentationConnection.send(t),"localStorage"===this.apiType&&window.localStorage.setItem("page",t)}},{key:"reconnect",value:(o=regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("presentation"!==this.apiType){e.next=2;break}return e.abrupt("return",this.presentationRequest.reconnect(t));case 2:return e.abrupt("return",Promise.resolve());case 3:case"end":return e.stop()}}),e,this)})),c=function(){var e=this,t=arguments;return new Promise((function(n,a){var i=o.apply(e,t);function c(e){r(i,n,a,c,s,"next",e)}function s(e){r(i,n,a,c,s,"throw",e)}c(void 0)}))},function(e){return c.apply(this,arguments)})},{key:"terminate",value:function(){"presentation"===this.apiType&&this.presentationConnection?(this.presentationConnection.terminate(),this.presentationConnection.close(),this.presentationConnection=null):this.windowId&&(this.windowId.close(),this.windowId=null)}}])&&a(t.prototype,n),i&&a(t,i),e}()},99:(e,t,n)=>{"use strict";function r(e){var t=Math.floor(e/1e3%60).toString().padStart(2,"0"),n=Math.floor(e/6e4%60).toString().padStart(2,"0"),r=Math.floor(e/36e5%24).toString().padStart(2,"0");return"".concat(r,":").concat(n,":").concat(t)}n.r(t),n.d(t,{formatTime:()=>r})},62:(e,t,n)=>{"use strict";function r(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.r(t),n.d(t,{WebRTC:()=>i});var i=function(){function e(){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!navigator.mediaDevices.getUserMedia)throw new Error("Not supported");this.url=null,this.finishedProcess=!1}var t,n,i,o,c;return t=e,(n=[{key:"setupRecording",value:function(){navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(this.handlerRecording)}},{key:"handlerRecording",value:function(e){var t=this,n=[];this.stream=e,this.mediaRecorder=new MediaRecorder(e,{}),this.mediaRecorder.addEventListener("dataavailable",(function(e){e.data.size>0&&n.push(e.data)})),this.mediaRecorder.addEventListener("stop",(function(){t.finishedProcess=!0,t.url=URL.createObjectURL(new Blob(n,{type:"audio/webm"}))}))}},{key:"startRecording",value:function(){this.mediaRecorder.start(),this.finishedProcess=!1,this.url=null}},{key:"stopRecording",value:function(){var e=this;return new Promise((function(t){e.mediaRecorder.stop();var n=setInterval((function(){e.finishedProcess&&(clearInterval(n),t(e.url))}),100)}))}},{key:"disposeRecording",value:function(){this.mediaRecorder.stream.getTracks().forEach((function(e){return e.stop()})),this.finishedProcess=!1,this.url=null}},{key:"startCapturing",value:(o=regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,navigator.mediaDevices.getDisplayMedia(t);case 4:n=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.error(e.t0);case 10:return e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})),c=function(){var e=this,t=arguments;return new Promise((function(n,a){var i=o.apply(e,t);function c(e){r(i,n,a,c,s,"next",e)}function s(e){r(i,n,a,c,s,"throw",e)}c(void 0)}))},function(e){return c.apply(this,arguments)})},{key:"stopCapturing",value:function(e){e.srcObject.getTracks().forEach((function(e){return e.stop()})),e.srcObject=null}}])&&a(t.prototype,n),i&&a(t,i),e}()},96:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(29),a=n.n(r)()((function(e){return e[1]}));a.push([e.id,"// extracted by mini-css-extract-plugin\nexport {};",""]);const i=a},107:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(29),a=n.n(r)()((function(e){return e[1]}));a.push([e.id,"// extracted by mini-css-extract-plugin\nexport {};",""]);const i=a},95:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var r=n(27),a=n.n(r),i=n(96),o={insert:"head",singleton:!1};a()(i.default,o);const c=i.default.locals||{}},106:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var r=n(27),a=n.n(r),i=n(107),o={insert:"head",singleton:!1};a()(i.default,o);const c=i.default.locals||{}}}]);